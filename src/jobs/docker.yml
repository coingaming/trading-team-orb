description: >
  Pack NuGets

executor: docker-builder

parameters:
  base_version:
    description: Base version
    type: string

steps:
  - attach_workspace:
      at: ./
  - setup_remote_docker
  - inject_version_data:
      base_version: <<parameters.base_version>>
  - build_docker_image:
      full_version: $FULL_VERSION
  - push_docker_image:
      full_version: $FULL_VERSION
  - inject_slack_templates
  - slack/notify:
      event: fail
      template: basic_fail_1
  - slack/notify:
      template: DOCKER_SUCCESS_TEMPLATE
      event: pass
